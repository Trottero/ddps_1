<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at 2020-07-06
 | Rendered using Apache Maven Stylus Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Apache Hadoop 3.3.0 &#x2013; The YARN Timeline Server</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta name="Date-Revision-yyyymmdd" content="20200706" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                </head>
  <body class="composite">
    <div id="banner">
                        <a href="http://hadoop.apache.org/" id="bannerLeft">
                                        <img src="http://hadoop.apache.org/images/hadoop-logo.jpg" alt="" />
                </a>
                              <a href="http://www.apache.org/" id="bannerRight">
                                        <img src="http://www.apache.org/images/asf_logo_wide.png" alt="" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                                   <div class="xleft">
                          <a href="http://www.apache.org/" class="externalLink">Apache</a>
        &gt;
                  <a href="http://hadoop.apache.org/" class="externalLink">Hadoop</a>
        &gt;
                  <a href="../index.html">Apache Hadoop YARN</a>
        &gt;
                  <a href="index.html">Apache Hadoop 3.3.0</a>
        &gt;
        The YARN Timeline Server
        </div>
            <div class="xright">            <a href="http://wiki.apache.org/hadoop" class="externalLink">Wiki</a>
            |
                <a href="https://gitbox.apache.org/repos/asf/hadoop.git" class="externalLink">git</a>
            |
                <a href="http://hadoop.apache.org/" class="externalLink">Apache Hadoop</a>
              
                                   &nbsp;| Last Published: 2020-07-06
              &nbsp;| Version: 3.3.0
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                                                   <h5>General</h5>
                  <ul>
                  <li class="none">
                  <a href="../../index.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/SingleCluster.html">Single Node Setup</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/ClusterSetup.html">Cluster Setup</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/CommandsManual.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/FileSystemShell.html">FileSystem Shell</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Compatibility.html">Compatibility Specification</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/DownstreamDev.html">Downstream Developer's Guide</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/AdminCompatibilityGuide.html">Admin Compatibility Guide</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/InterfaceClassification.html">Interface Classification</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/filesystem/index.html">FileSystem Specification</a>
            </li>
          </ul>
                       <h5>Common</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/CLIMiniCluster.html">CLI Mini Cluster</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/FairCallQueue.html">Fair Call Queue</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/NativeLibraries.html">Native Libraries</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Superusers.html">Proxy User</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/RackAwareness.html">Rack Awareness</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/SecureMode.html">Secure Mode</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/ServiceLevelAuth.html">Service Level Authorization</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/HttpAuthentication.html">HTTP Authentication</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/CredentialProviderAPI.html">Credential Provider API</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-kms/index.html">Hadoop KMS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Tracing.html">Tracing</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/UnixShellGuide.html">Unix Shell Guide</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/registry/index.html">Registry</a>
            </li>
          </ul>
                       <h5>HDFS</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsDesign.html">Architecture</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsUserGuide.html">User Guide</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSCommands.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithQJM.html">NameNode HA With QJM</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithNFS.html">NameNode HA With NFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ObserverNameNode.html">Observer NameNode</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/Federation.html">Federation</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ViewFs.html">ViewFs</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsSnapshots.html">Snapshots</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsEditsViewer.html">Edits Viewer</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsImageViewer.html">Image Viewer</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsPermissionsGuide.html">Permissions and HDFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsQuotaAdminGuide.html">Quotas and HDFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/LibHdfs.html">libhdfs (C API)</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/WebHDFS.html">WebHDFS (REST API)</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-hdfs-httpfs/index.html">HttpFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ShortCircuitLocalReads.html">Short Circuit Local Reads</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/CentralizedCacheManagement.html">Centralized Cache Management</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsNfsGateway.html">NFS Gateway</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsRollingUpgrade.html">Rolling Upgrade</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ExtendedAttributes.html">Extended Attributes</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/TransparentEncryption.html">Transparent Encryption</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsMultihoming.html">Multihoming</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ArchivalStorage.html">Storage Policies</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/MemoryStorage.html">Memory Storage Support</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/SLGUserGuide.html">Synthetic Load Generator</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSErasureCoding.html">Erasure Coding</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSDiskbalancer.html">Disk Balancer</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsUpgradeDomain.html">Upgrade Domain</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsDataNodeAdminGuide.html">DataNode Admin</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs-rbf/HDFSRouterFederation.html">Router Federation</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsProvidedStorage.html">Provided Storage</a>
            </li>
          </ul>
                       <h5>MapReduce</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduceTutorial.html">Tutorial</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapredCommands.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduce_Compatibility_Hadoop1_Hadoop2.html">Compatibility with 1.x</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/EncryptedShuffle.html">Encrypted Shuffle</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/PluggableShuffleAndPluggableSort.html">Pluggable Shuffle/Sort</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/DistributedCacheDeploy.html">Distributed Cache Deploy</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/SharedCacheSupport.html">Support for YARN Shared Cache</a>
            </li>
          </ul>
                       <h5>MapReduce REST APIs</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapredAppMasterRest.html">MR Application Master</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-hs/HistoryServerRest.html">MR History Server</a>
            </li>
          </ul>
                       <h5>YARN</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YARN.html">Architecture</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YarnCommands.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/CapacityScheduler.html">Capacity Scheduler</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/FairScheduler.html">Fair Scheduler</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceManagerRestart.html">ResourceManager Restart</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html">ResourceManager HA</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceModel.html">Resource Model</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeLabel.html">Node Labels</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeAttributes.html">Node Attributes</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/WebApplicationProxy.html">Web Application Proxy</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/TimelineServer.html">Timeline Server</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/TimelineServiceV2.html">Timeline Service V.2</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/WritingYarnApplications.html">Writing YARN Applications</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YarnApplicationSecurity.html">YARN Application Security</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeManager.html">NodeManager</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/DockerContainers.html">Running Applications in Docker Containers</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/RuncContainers.html">Running Applications in runC Containers</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeManagerCgroups.html">Using CGroups</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/SecureContainer.html">Secure Containers</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ReservationSystem.html">Reservation System</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/GracefulDecommission.html">Graceful Decommission</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/OpportunisticContainers.html">Opportunistic Containers</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/Federation.html">YARN Federation</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/SharedCache.html">Shared Cache</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/UsingGpus.html">Using GPU</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/UsingFPGA.html">Using FPGA</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/PlacementConstraints.html">Placement Constraints</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YarnUI2.html">YARN UI2</a>
            </li>
          </ul>
                       <h5>YARN REST APIs</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/WebServicesIntro.html">Introduction</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceManagerRest.html">Resource Manager</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeManagerRest.html">Node Manager</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/TimelineServer.html#Timeline_Server_REST_API_v1">Timeline Server</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/TimelineServiceV2.html#Timeline_Service_v.2_REST_API">Timeline Service V.2</a>
            </li>
          </ul>
                       <h5>YARN Service</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/Overview.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/QuickStart.html">QuickStart</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/Concepts.html">Concepts</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/YarnServiceAPI.html">Yarn Service API</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/ServiceDiscovery.html">Service Discovery</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/SystemServices.html">System Services</a>
            </li>
          </ul>
                       <h5>Hadoop Compatible File Systems</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-aliyun/tools/hadoop-aliyun/index.html">Aliyun OSS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-aws/tools/hadoop-aws/index.html">Amazon S3</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-azure/index.html">Azure Blob Storage</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-azure-datalake/index.html">Azure Data Lake Storage</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-openstack/index.html">OpenStack Swift</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-cos/cloud-storage/index.html">Tencent COS</a>
            </li>
          </ul>
                       <h5>Auth</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-auth/index.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-auth/Examples.html">Examples</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-auth/Configuration.html">Configuration</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-auth/BuildingIt.html">Building</a>
            </li>
          </ul>
                       <h5>Tools</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-streaming/HadoopStreaming.html">Hadoop Streaming</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-archives/HadoopArchives.html">Hadoop Archives</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-archive-logs/HadoopArchiveLogs.html">Hadoop Archive Logs</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-distcp/DistCp.html">DistCp</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-gridmix/GridMix.html">GridMix</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-rumen/Rumen.html">Rumen</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-resourceestimator/ResourceEstimator.html">Resource Estimator Service</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-sls/SchedulerLoadSimulator.html">Scheduler Load Simulator</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Benchmarking.html">Hadoop Benchmarking</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-dynamometer/Dynamometer.html">Dynamometer</a>
            </li>
          </ul>
                       <h5>Reference</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/release/">Changelog and Release Notes</a>
            </li>
                  <li class="none">
                  <a href="../../api/index.html">Java API docs</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/UnixShellAPI.html">Unix Shell API</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Metrics.html">Metrics</a>
            </li>
          </ul>
                       <h5>Configuration</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/core-default.xml">core-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/hdfs-default.xml">hdfs-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs-rbf/hdfs-rbf-default.xml">hdfs-rbf-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/mapred-default.xml">mapred-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-common/yarn-default.xml">yarn-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/DeprecatedProperties.html">Deprecated Properties</a>
            </li>
          </ul>
                                 <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
          <img alt="Built by Maven" src="./images/logos/maven-feather.png"/>
        </a>
                       
                               </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!---
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
-->
<h1>The YARN Timeline Server</h1>
<ul>
<li><a href="#Overview">Overview</a></li>
<li><a href="#Deployment">Deployment</a></li>
<li><a href="#Timeline_Server_REST_API_V1">Timeline Server REST API V1</a></li>
<li><a href="#Domains_.2Fws.2Fv1.2Ftimeline.2Fdomain">Domains /ws/v1/timeline/domain</a></li>
<li><a href="#Posting_Timeline_Entities"> Posting Timeline Entities</a></li>
<li><a href="#Timeline_Entity_List">Timeline Entity List</a></li>
<li><a href="#Timeline_Entity">Timeline Entity</a></li>
<li><a href="#Timeline_Event_List">Timeline Event List</a></li>
<li><a href="#About">About</a></li>
<li><a href="#Application_List">Application List</a></li>
<li><a href="#Application">Application</a></li>
<li><a href="#Application_Attempt_List">Application Attempt List</a></li>
<li><a href="#Application_Attempt">Application Attempt</a></li>
<li><a href="#Container_List">Container List</a></li>
<li><a href="#Container">Container</a></li>
<li><a href="#Timeline_Server_Performance_Test_Tool"> Timeline Server Performance Test Tool</a></li></ul>

<div class="section">
<h2><a name="Overview"></a>Overview</h2>
<div class="section">
<h3><a name="Introduction"></a>Introduction</h3>
<p>The Storage and retrieval of application&#x2019;s current and historic information in a generic fashion is addressed in YARN through the Timeline Server. It has two responsibilities:</p>
<div class="section">
<h4><a name="Persisting_Application_Specific_Information"></a>Persisting Application Specific Information</h4>
<p>The collection and retrieval of information completely specific to an application or framework. For example, the Hadoop MapReduce framework can include pieces of information like number of map tasks, reduce tasks, counters&#x2026;etc. Application developers can publish the specific information to the Timeline server via <tt>TimelineClient</tt> in the Application Master and/or the application&#x2019;s containers.</p>
<p>This information is then queryable via REST APIs for rendering by application/framework specific UIs.</p></div>
<div class="section">
<h4><a name="Persisting_Generic_Information_about_Completed_Applications"></a>Persisting Generic Information about Completed Applications</h4>
<p>Previously this was supported purely for MapReduce jobs by the Application History Server. With the introduction of the timeline server, the Application History Server becomes just one use of the Timeline Server.</p>
<p>Generic information includes application level data such as</p>
<ul>

<li>queue-name,</li>
<li>user information and the like set in the <tt>ApplicationSubmissionContext</tt>,</li>
<li>a list of application-attempts that ran for an application</li>
<li>information about each application-attempt</li>
<li>the list of containers run under each application-attempt</li>
<li>information about each container.</li>
</ul>
<p>Generic data is published by the YARN Resource Manager to the timeline store and used by its web-UI to display information about completed applications.</p></div></div>
<div class="section">
<h3><a name="Current_Status_and_Future_Plans"></a><a name="Current_Status"></a>Current Status and Future Plans</h3>
<p>Current status</p>
<ol style="list-style-type: decimal">

<li>The core functionality of the timeline server has been completed.</li>
<li>It works in both secure and non secure clusters.</li>
<li>The generic history service is built on the timeline store.</li>
<li>The history can be stored in memory or in a leveldb database store; the latter ensures the history is preserved over Timeline Server restarts.</li>
<li>The ability to install framework specific UIs in YARN is not supported.</li>
<li>Application specific information is only available via RESTful APIs using JSON type content.</li>
<li>The &#x201c;Timeline Server v1&#x201d; REST API has been declared one of the REST APIs whose compatibility will be maintained in future releases.</li>
<li>The single-server implementation of the Timeline Server places a limit on the scalability of the service; it also prevents the service being High-Availability component of the YARN infrastructure.</li>
</ol>
<p>Future Plans</p>
<ol style="list-style-type: decimal">

<li>Future releases will introduce a next generation timeline service which is scalable and reliable, <a href="./TimelineServiceV2.html">&#x201c;Timeline Service v2&#x201d;</a>.</li>
<li>The expanded features of this service <i>may not</i> be available to applications using the Timeline Server v1 REST API. That includes extended data structures as well as the ability of the client to failover between Timeline Server instances.</li>
</ol></div>
<div class="section">
<h3><a name="Timeline_Structure"></a>Timeline Structure</h3>
<p><img src="./images/timeline_structure.jpg" alt="Timeline Structure" /></p>
<div class="section">
<h4><a name="Timeline_Domain"></a>Timeline Domain</h4>
<p>The Timeline Domain offers a namespace for Timeline server allowing users to host multiple entities, isolating them from other users and applications. Timeline server Security is defined at this level.</p>
<p>A &#x201c;Domain&#x201d; primarily stores owner info, read and&amp; write ACL information, created and modified time stamp information. Each Domain is identified by an ID which must be unique across all users in the YARN cluster.</p></div>
<div class="section">
<h4><a name="Timeline_Entity"></a>Timeline Entity</h4>
<p>A Timeline Entity contains the the meta information of a conceptual entity and its related events.</p>
<p>The entity can be an application, an application attempt, a container or any user-defined object.</p>
<p>It contains <b>Primary filters</b> which will be used to index the entities in the Timeline Store. Accordingly, users/applications should carefully choose the information they want to store as the primary filters.</p>
<p>The remaining data can be stored as unindexed information. Each Entity is uniquely identified by an <tt>EntityId</tt> and <tt>EntityType</tt>.</p></div>
<div class="section">
<h4><a name="Timeline_Events"></a>Timeline Events</h4>
<p>A Timeline Event describes an event that is related to a specific Timeline Entity of an application.</p>
<p>Users are free to define what an event means &#x2014;such as starting an application, getting allocated a container, an operation failures or other information considered relevant to users and cluster operators.</p></div></div></div>
<div class="section">
<h2><a name="Deployment"></a>Deployment</h2>
<div class="section">
<h3><a name="Configurations"></a>Configurations</h3>
<div class="section">
<h4><a name="Basic_Configuration"></a>Basic Configuration</h4>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th align="left"> Configuration Property </th>
<th align="left"> Description </th></tr>
</thead><tbody>

<tr class="b">
<td align="left"> <tt>yarn.timeline-service.enabled</tt> </td>
<td align="left"> In the server side it indicates whether timeline service is enabled or not. And in the client side, users can enable it to indicate whether client wants to use timeline service. If it&#x2019;s enabled in the client side along with security, then yarn client tries to fetch the delegation tokens for the timeline server. Defaults to <tt>false</tt>. </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.resourcemanager.system-metrics-publisher.enabled</tt> </td>
<td align="left"> The setting that controls whether or not YARN system metrics are published on the timeline server by RM. Defaults to <tt>false</tt>. </td></tr>
<tr class="b">
<td align="left"> <tt>yarn.timeline-service.generic-application-history.enabled</tt> </td>
<td align="left"> Indicate to clients whether to query generic application data from timeline history-service or not. If not enabled then application data is queried only from Resource Manager. Defaults to <tt>false</tt>. </td></tr>
</tbody>
</table></div>
<div class="section">
<h4><a name="Timeline_store_and_state_store_configuration"></a>Timeline store and state store configuration</h4>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th align="left"> Configuration Property </th>
<th align="left"> Description </th></tr>
</thead><tbody>

<tr class="b">
<td align="left"> <tt>yarn.timeline-service.store-class</tt> </td>
<td align="left"> Store class name for timeline store. Defaults to <tt>org.apache.hadoop.yarn.server.timeline.LeveldbTimelineStore</tt>. </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.leveldb-timeline-store.path</tt> </td>
<td align="left"> Store file name for leveldb timeline store. Defaults to <tt>${hadoop.tmp.dir}/yarn/timeline</tt>. </td></tr>
<tr class="b">
<td align="left"> <tt>yarn.timeline-service.leveldb-timeline-store.ttl-interval-ms</tt> </td>
<td align="left"> Length of time to wait between deletion cycles of leveldb timeline store in milliseconds. Defaults to <tt>300000</tt>. </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.leveldb-timeline-store.read-cache-size</tt> </td>
<td align="left"> Size of read cache for uncompressed blocks for leveldb timeline store in bytes. Defaults to <tt>104857600</tt>. </td></tr>
<tr class="b">
<td align="left"> <tt>yarn.timeline-service.leveldb-timeline-store.start-time-read-cache-size</tt> </td>
<td align="left"> Size of cache for recently read entity start times for leveldb timeline store in number of entities. Defaults to <tt>10000</tt>. </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.leveldb-timeline-store.start-time-write-cache-size</tt> </td>
<td align="left"> Size of cache for recently written entity start times for leveldb timeline store in number of entities. Defaults to <tt>10000</tt>. </td></tr>
<tr class="b">
<td align="left"> <tt>yarn.timeline-service.recovery.enabled</tt> </td>
<td align="left"> Defaults to <tt>false</tt>. </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.state-store-class</tt> </td>
<td align="left"> Store class name for timeline state store. Defaults to <tt>org.apache.hadoop.yarn.server.timeline.recovery.LeveldbTimelineStateStore</tt>. </td></tr>
<tr class="b">
<td align="left"> <tt>yarn.timeline-service.leveldb-state-store.path</tt> </td>
<td align="left"> Store file name for leveldb timeline state store. </td></tr>
</tbody>
</table></div>
<div class="section">
<h4><a name="Web_and_RPC_Configuration"></a>Web and RPC Configuration</h4>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th align="left"> Configuration Property </th>
<th align="left"> Description </th></tr>
</thead><tbody>

<tr class="b">
<td align="left"> <tt>yarn.timeline-service.hostname</tt> </td>
<td align="left"> The hostname of the Timeline service web application. Defaults to <tt>0.0.0.0</tt> </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.address</tt> </td>
<td align="left"> Address for the Timeline server to start the RPC server. Defaults to <tt>${yarn.timeline-service.hostname}:10200</tt>. </td></tr>
<tr class="b">
<td align="left"> <tt>yarn.timeline-service.webapp.address</tt> </td>
<td align="left"> The http address of the Timeline service web application. Defaults to <tt>${yarn.timeline-service.hostname}:8188</tt>. </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.webapp.https.address</tt> </td>
<td align="left"> The https address of the Timeline service web application. Defaults to <tt>${yarn.timeline-service.hostname}:8190</tt>. </td></tr>
<tr class="b">
<td align="left"> <tt>yarn.timeline-service.bind-host</tt> </td>
<td align="left"> The actual address the server will bind to. If this optional address is set, the RPC and webapp servers will bind to this address and the port specified in <tt>yarn.timeline-service.address</tt> and <tt>yarn.timeline-service.webapp.address</tt>, respectively. This is most useful for making the service listen on all interfaces by setting to <tt>0.0.0.0</tt>. </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.http-cross-origin.enabled</tt> </td>
<td align="left"> Enables cross-origin support (CORS) for web services where cross-origin web response headers are needed. For example, javascript making a web services request to the timeline server. Defaults to <tt>false</tt>. </td></tr>
<tr class="b">
<td align="left"> <tt>yarn.timeline-service.http-cross-origin.allowed-origins</tt> </td>
<td align="left"> Comma separated list of origins that are allowed. Values prefixed with <tt>regex:</tt> are interpreted as regular expressions. Values containing wildcards (<tt>*</tt>) are possible as well, here a regular expression is generated, the use is discouraged and support is only available for backward compatibility. Defaults to <tt>*</tt>. </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.http-cross-origin.allowed-methods</tt> </td>
<td align="left"> Comma separated list of methods that are allowed for web services needing cross-origin (CORS) support. Defaults to <tt>GET,POST,HEAD</tt>. </td></tr>
<tr class="b">
<td align="left"> <tt>yarn.timeline-service.http-cross-origin.allowed-headers</tt> </td>
<td align="left"> Comma separated list of headers that are allowed for web services needing cross-origin (CORS) support. Defaults to <tt>X-Requested-With,Content-Type,Accept,Origin</tt>. </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.http-cross-origin.max-age</tt> </td>
<td align="left"> The number of seconds a pre-flighted request can be cached for web services needing cross-origin (CORS) support. Defaults to <tt>1800</tt>. </td></tr>
</tbody>
</table>
<p>Note that the selection between the HTTP and HTTPS binding is made in the <tt>TimelineClient</tt> based upon the value of the YARN-wide configuration option <tt>yarn.http.policy</tt>; the HTTPS endpoint will be selected if this policy is <tt>HTTPS_ONLY</tt>.</p></div>
<div class="section">
<h4><a name="Advanced_Server-side_configuration"></a>Advanced Server-side configuration</h4>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th align="left"> Configuration Property </th>
<th align="left"> Description </th></tr>
</thead><tbody>

<tr class="b">
<td align="left"> <tt>yarn.timeline-service.ttl-enable</tt> </td>
<td align="left"> Enable deletion of aged data within the timeline store. Defaults to <tt>true</tt>. </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.ttl-ms</tt> </td>
<td align="left"> Time to live for timeline store data in milliseconds. Defaults to <tt>604800000</tt> (7 days). </td></tr>
<tr class="b">
<td align="left"> <tt>yarn.timeline-service.handler-thread-count</tt> </td>
<td align="left"> Handler thread count to serve the client RPC requests. Defaults to <tt>10</tt>. </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.client.max-retries</tt> </td>
<td align="left"> The maximum number of retries for attempts to publish data to the timeline service.Defaults to <tt>30</tt>. </td></tr>
<tr class="b">
<td align="left"> <tt>yarn.timeline-service.client.retry-interval-ms</tt> </td>
<td align="left"> The interval in milliseconds between retries for the timeline service client. Defaults to <tt>1000</tt>. </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.generic-application-history.max-applications</tt> </td>
<td align="left"> The max number of applications could be fetched by using REST API or application history protocol and shown in timeline server web ui. Defaults to <tt>10000</tt>. </td></tr>
</tbody>
</table></div>
<div class="section">
<h4><a name="UI_Hosting_Configuration"></a>UI Hosting Configuration</h4>
<p>The timeline service can host multiple UIs if enabled. The service can support both static web sites hosted in a directory or war files bundled. The web UI is then hosted on the timeline service HTTP port under the path configured.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th align="left"> Configuration Property </th>
<th align="left"> Description </th></tr>
</thead><tbody>

<tr class="b">
<td align="left"> <tt>yarn.timeline-service.ui-names</tt> </td>
<td align="left"> Comma separated list of UIs that will be hosted. Defaults to <tt>none</tt>. </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.ui-on-disk-path.$name</tt> </td>
<td align="left"> For each of the ui-names, an on disk path should be specified to the directory service static content or the location of a web archive (war file). </td></tr>
<tr class="b">
<td align="left"> <tt>yarn.timeline-service.ui-web-path.$name</tt> </td>
<td align="left"> For each of the ui-names, the web path should be specified relative to the Timeline server root. Paths should begin with a starting slash. </td></tr>
</tbody>
</table></div>
<div class="section">
<h4><a name="Security_Configuration"></a>Security Configuration</h4>
<p>Security can be enabled by setting <tt>yarn.timeline-service.http-authentication.type</tt> to <tt>kerberos</tt>, after which the following configuration options are available:</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th align="left"> Configuration Property </th>
<th align="left"> Description </th></tr>
</thead><tbody>

<tr class="b">
<td align="left"> <tt>yarn.timeline-service.http-authentication.type</tt> </td>
<td align="left"> Defines authentication used for the timeline server HTTP endpoint. Supported values are: <tt>simple</tt> / <tt>kerberos</tt> / #AUTHENTICATION_HANDLER_CLASSNAME#. Defaults to <tt>simple</tt>. </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.http-authentication.simple.anonymous.allowed</tt> </td>
<td align="left"> Indicates if anonymous requests are allowed by the timeline server when using &#x2018;simple&#x2019; authentication. Defaults to <tt>true</tt>. </td></tr>
<tr class="b">
<td align="left"> <tt>yarn.timeline-service.principal</tt> </td>
<td align="left"> The Kerberos principal for the timeline server. </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.keytab</tt> </td>
<td align="left"> The Kerberos keytab for the timeline server. Defaults on Unix to to <tt>/etc/krb5.keytab</tt>. </td></tr>
<tr class="b">
<td align="left"> <tt>yarn.timeline-service.delegation.key.update-interval</tt> </td>
<td align="left"> Defaults to <tt>86400000</tt> (1 day). </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.delegation.token.renew-interval</tt> </td>
<td align="left"> Defaults to <tt>86400000</tt> (1 day). </td></tr>
<tr class="b">
<td align="left"> <tt>yarn.timeline-service.delegation.token.max-lifetime</tt> </td>
<td align="left"> Defaults to <tt>604800000</tt> (7 days). </td></tr>
<tr class="a">
<td align="left"> <tt>yarn.timeline-service.client.best-effort</tt> </td>
<td align="left"> Should the failure to obtain a delegation token be considered an application failure (option = false),  or should the client attempt to continue to publish information without it (option=true). Default: <tt>false</tt> </td></tr>
</tbody>
</table></div>
<div class="section">
<h4><a name="Enabling_the_timeline_service_and_the_generic_history_service"></a>Enabling the timeline service and the generic history service</h4>
<p>Following are the basic configuration to start Timeline server.</p>

<div>
<div>
<pre class="source">&lt;property&gt;
  &lt;description&gt;Indicate to clients whether Timeline service is enabled or not.
  If enabled, the TimelineClient library used by end-users will post entities
  and events to the Timeline server.&lt;/description&gt;
  &lt;name&gt;yarn.timeline-service.enabled&lt;/name&gt;
  &lt;value&gt;true&lt;/value&gt;
&lt;/property&gt;

&lt;property&gt;
  &lt;description&gt;The setting that controls whether yarn system metrics is
  published on the timeline server or not by RM.&lt;/description&gt;
  &lt;name&gt;yarn.resourcemanager.system-metrics-publisher.enabled&lt;/name&gt;
  &lt;value&gt;true&lt;/value&gt;
&lt;/property&gt;

&lt;property&gt;
  &lt;description&gt;Indicate to clients whether to query generic application
  data from timeline history-service or not. If not enabled then application
  data is queried only from Resource Manager.&lt;/description&gt;
  &lt;name&gt;yarn.timeline-service.generic-application-history.enabled&lt;/name&gt;
  &lt;value&gt;true&lt;/value&gt;
&lt;/property&gt;
</pre></div></div>
</div></div>
<div class="section">
<h3><a name="Running_the_Timeline_Server"></a><a name="Running_Timeline_Server"></a> Running the Timeline Server</h3>
<p>Assuming all the aforementioned configurations are set properly admins can start the Timeline server/history service with the following command:</p>

<div>
<div>
<pre class="source">yarn timelineserver
</pre></div></div>

<p>To start the Timeline server / history service as a daemon, the command is</p>

<div>
<div>
<pre class="source">$HADOOP_YARN_HOME/sbin/yarn-daemon.sh start timelineserver
</pre></div></div>
</div>
<div class="section">
<h3><a name="Accessing_generic-data_via_command-line"></a> Accessing generic-data via command-line</h3>
<p>Users can access applications&#x2019; generic historic data via the command line below</p>

<div>
<div>
<pre class="source">$ yarn application -status &lt;Application ID&gt;
$ yarn applicationattempt -list &lt;Application ID&gt;
$ yarn applicationattempt -status &lt;Application Attempt ID&gt;
$ yarn container -list &lt;Application Attempt ID&gt;
$ yarn container -status &lt;Container ID&gt;
</pre></div></div>

<p>Note that the same commands are usable to obtain the corresponding information about running applications.</p></div>
<div class="section">
<h3><a name="Publishing_application_specific_data"></a><a name="Publishing_of_application_specific_data"></a> Publishing application specific data</h3>
<p>Developers can define what information they want to record for their applications by constructing <tt>TimelineEntity</tt> and  <tt>TimelineEvent</tt> objects then publishing the entities and events to the Timeline Server via the <tt>TimelineClient</tt> API.</p>
<p>Here is an example:</p>

<div>
<div>
<pre class="source">// Create and start the Timeline client
TimelineClient client = TimelineClient.createTimelineClient();
client.init(conf);
client.start();

try {
  TimelineDomain myDomain = new TimelineDomain();
  myDomain.setId(&quot;MyDomain&quot;);
  // Compose other Domain info ....

  client.putDomain(myDomain);

  TimelineEntity myEntity = new TimelineEntity();
  myEntity.setDomainId(myDomain.getId());
  myEntity.setEntityType(&quot;APPLICATION&quot;);
  myEntity.setEntityId(&quot;MyApp1&quot;);
  // Compose other entity info

  TimelinePutResponse response = client.putEntities(entity);

  TimelineEvent event = new TimelineEvent();
  event.setEventType(&quot;APP_FINISHED&quot;);
  event.setTimestamp(System.currentTimeMillis());
  event.addEventInfo(&quot;Exit Status&quot;, &quot;SUCCESS&quot;);
  // Compose other Event info ....

  myEntity.addEvent(event);
  TimelinePutResponse response = timelineClient.putEntities(entity);

} catch (IOException e) {
  // Handle the exception
} catch (RuntimeException e) {
  // In Hadoop 2.6, if attempts submit information to the Timeline Server fail more than the retry limit,
  // a RuntimeException will be raised. This may change in future releases, being
  // replaced with a IOException that is (or wraps) that which triggered retry failures.
} catch (YarnException e) {
  // Handle the exception
} finally {
  // Stop the Timeline client
  client.stop();
}
</pre></div></div>

<ol style="list-style-type: decimal">

<li>Publishing of data to Timeline Server is a synchronous operation; the call will not return until successful.</li>
<li>The <tt>TimelineClient</tt> implementation class is a subclass of the YARN <tt>Service</tt> API; it can be placed under a <tt>CompositeService</tt> to ease its lifecycle management.</li>
<li>The result of a <tt>putEntities()</tt> call is a <tt>TimelinePutResponse</tt> object. This contains a (hopefully empty) list of those timeline entities reject by the timeline server, along with an error code indicating the cause of each failure.</li>
</ol>
<p>In Hadoop 2.6 and 2.7, the error codes are:</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th align="left"> Error Code </th>
<th align="left"> Description </th></tr>
</thead><tbody>

<tr class="b">
<td align="left">1 </td>
<td align="left"> No start time </td></tr>
<tr class="a">
<td align="left">2 </td>
<td align="left"> IOException </td></tr>
<tr class="b">
<td align="left">3 </td>
<td align="left"> System Filter conflict (reserved filter key used) </td></tr>
<tr class="a">
<td align="left">4 </td>
<td align="left"> Access Denied </td></tr>
<tr class="b">
<td align="left">5 </td>
<td align="left"> No domain </td></tr>
<tr class="a">
<td align="left">6 </td>
<td align="left"> Forbidden relation </td></tr>
</tbody>
</table>
<p>Further error codes may be defined in future.</p>
<p><b>Note</b> : Following are the points which need to be observed when updating a entity.</p>
<ul>

<li>Domain ID should not be modified for already existing entity.</li>
<li>After a modification of a Primary filter value, the new value will be appended to the old value; the original value will not be replaced.</li>
<li>It&#x2019;s advisable to have same primary filters for all updates on entity. Any on modification of a primary filter by in an update will result in queries with updated primary filter to not fetching the information before the update</li>
</ul>
<h1>Generic Data Web UI</h1>
<p>Users can access the generic historic information of applications via web UI:</p>

<div>
<div>
<pre class="source">http(s)://&lt;timeline server http(s) address:port&gt;/applicationhistory
</pre></div></div>
</div></div>
<div class="section">
<h2><a name="Timeline_Server_REST_API_V1"></a><a name="Timeline_Server_REST_API_v1"></a>Timeline Server REST API V1</h2>
<p>Querying the timeline server is currently only supported via REST API calls; there is no API client implemented in the YARN libraries. In Java, the Jersey client is effective at querying the server, even in secure mode (provided the caller has the appropriate Kerberos tokens or keytab).</p>
<p>The v1 REST API is implemented at under the path, <tt>/ws/v1/timeline/</tt> on the Timeline Server web service.</p>
<p>Here is a non-normative description of the API.</p>
<div class="section">
<h3><a name="Root_path"></a>Root path</h3>

<div>
<div>
<pre class="source">GET /ws/v1/timeline/
</pre></div></div>

<p>Returns a JSON object describing the server instance and version information.</p>

<div>
<div>
<pre class="source"> {
   About: &quot;Timeline API&quot;,
   timeline-service-version: &quot;3.0.0-SNAPSHOT&quot;,
   timeline-service-build-version: &quot;3.0.0-SNAPSHOT from fcd0702c10ce574b887280476aba63d6682d5271 by zshen source checksum e9ec74ea3ff7bc9f3d35e9cac694fb&quot;,
   timeline-service-version-built-on: &quot;2015-05-13T19:45Z&quot;,
   hadoop-version: &quot;3.0.0-SNAPSHOT&quot;,
   hadoop-build-version: &quot;3.0.0-SNAPSHOT from fcd0702c10ce574b887280476aba63d6682d5271 by zshen source checksum 95874b192923b43cdb96a6e483afd60&quot;,
   hadoop-version-built-on: &quot;2015-05-13T19:44Z&quot;
 }
</pre></div></div>
</div></div>
<div class="section">
<h2><a name="Domains_.2Fws.2Fv1.2Ftimeline.2Fdomain"></a><a name="REST_API_DOMAINS"></a>Domains <tt>/ws/v1/timeline/domain</tt></h2>
<div class="section">
<h3><a name="Domain_summary_information_.2Fws.2Fv1.2Ftimeline.2Fdomain"></a>Domain summary information <tt>/ws/v1/timeline/domain</tt></h3>

<div>
<div>
<pre class="source">GET /ws/v1/timeline/domain?owner=$OWNER
</pre></div></div>

<p>Returns a list of domains belonging to a specific user, in the JSON-marshalled <tt>TimelineDomains</tt> data structure.</p>
<p>The <tt>owner</tt> MUST be set on a GET which is not authenticated.</p>
<p>On an authenticated request, the <tt>owner</tt> defaults to the caller.</p>

<div>
<div>
<pre class="source">PUT /ws/v1/timeline/domain
</pre></div></div>

<p>A PUT of a serialized <tt>TimelineDomain</tt> structure to this path will add the domain to the list of domains owned by the specified/current user. A successful operation returns status code of 200 and a <tt>TimelinePutResponse</tt> containing no errors.</p></div>
<div class="section">
<h3><a name="Specific_information_about_a_Domain_.2Fws.2Fv1.2Ftimeline.2Fdomain.2F.7BdomainId.7D"></a>Specific information about a Domain <tt>/ws/v1/timeline/domain/{domainId}</tt></h3>
<p>Returns a JSON-marshalled <tt>TimelineDomain</tt> structure describing a domain.</p>
<p>If the domain is not found, then an HTTP 404 response is returned.</p></div>
<div class="section">
<h3><a name="POST_new_domain_.2Fws.2Fv1.2Ftimeline.2Fdomain"></a>POST new domain <tt>/ws/v1/timeline/domain</tt></h3>
<p>Creates a new timeline domain, or overrides an existing one.</p>
<p>When attempting to create a new domain, the ID in the submission MUST be unique across all domains in the cluster.</p>
<p>When attempting to update an existing domain, the ID of that domain must be set. The submitter must have the appropriate permissions to update the domain.</p>
<p>submission: <tt>TimelineDomain</tt></p>
<p>response: <tt>TimelinePutResponse</tt></p></div>
<div class="section">
<h3><a name="List_domains_of_a_user:_GET_.2Fws.2Fv1.2Ftimeline.2Fdomain"></a>List domains of a user: GET <tt>/ws/v1/timeline/domain</tt></h3>
<p>Retrieves a list of all domains of a user.</p>
<p>If an owner is specified, that owner name overrides that of the caller.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th align="left"> Query Parameter </th>
<th align="left"> Description </th></tr>
</thead><tbody>

<tr class="b">
<td align="left"> <tt>owner</tt></td>
<td align="left"> owner of the domains to list</td></tr>
</tbody>
</table>

<div>
<div>
<pre class="source">GET http://localhost:8188/ws/v1/timeline/domain?owner=alice

{
&quot;domains&quot;:
  [
    {
    &quot;id&quot;:&quot;DS_DOMAIN_2&quot;,
    &quot;owner&quot;:&quot;alice&quot;,
    &quot;readers&quot;:&quot;peter&quot;,
    &quot;writers&quot;:&quot;john&quot;,
    &quot;createdtime&quot;:1430425000337,
    &quot;modifiedtime&quot;:1430425000337
    },
    {
    &quot;id&quot;:&quot;DS_DOMAIN_1&quot;,
    &quot;owner&quot;:&quot;alice&quot;,
    &quot;readers&quot;:&quot;bar&quot;,
    &quot;writers&quot;:&quot;foo&quot;,
    &quot;createdtime&quot;:1430424955963,
    &quot;modifiedtime&quot;:1430424955963
    }
    ,
    {&quot;id&quot;:&quot;DEFAULT&quot;,
    &quot;description&quot;:&quot;System Default Domain&quot;,
    &quot;owner&quot;:&quot;alice&quot;,
    &quot;readers&quot;:&quot;*&quot;,
    &quot;writers&quot;:&quot;*&quot;,
    &quot;createdtime&quot;:1430424022699,
    &quot;modifiedtime&quot;:1430424022699
    }
  ]
}
</pre></div></div>

<p>response: <tt>TimelineDomains</tt></p>
<p>If the user lacks the permission to list the domains of the specified owner, an <tt>TimelineDomains</tt> response with no domain listings is returned.</p>
<div class="section">
<h4><a name="Retrieve_details_of_a_specific_domain:_GET_.2Fws.2Fv1.2Ftimeline.2Fdomain.2F.7BdomainId.7D"></a>Retrieve details of a specific domain: GET <tt>/ws/v1/timeline/domain/{domainId}</tt></h4>
<p>Retrieves the details of a single domain</p>

<div>
<div>
<pre class="source">GET http://localhost:8188/ws/v1/timeline/domain/DS_DOMAIN_1
</pre></div></div>

<p>Response: <tt>TimelineDomain</tt></p>

<div>
<div>
<pre class="source">{
  &quot;id&quot;:&quot;DS_DOMAIN_1&quot;,
  &quot;owner&quot;:&quot;zshen&quot;,
  &quot;readers&quot;:&quot;bar&quot;,
  &quot;writers&quot;:&quot;foo&quot;,
  &quot;createdtime&quot;:1430424955963,
  &quot;modifiedtime&quot;:1430424955963
}
</pre></div></div>

<p>If the user lacks the permission to query the details of that domain, a 404, not found exception is returned &#x2014;the same response which is returned if there is no entry with that ID.</p></div></div></div>
<div class="section">
<h2><a name="Posting_Timeline_Entities"></a><a name="REST_API_POST_TIMELINE_ENTITIES"></a> Posting Timeline Entities</h2>
<p>With the Posting Entities API, you can post the entities and events, which contain the per-framework information you want to record, to the timeline server.</p>
<div class="section">
<h3><a name="URI:"></a>URI:</h3>

<div>
<div>
<pre class="source">http(s)://&lt;timeline server http(s) address:port&gt;/ws/v1/timeline
</pre></div></div>
</div>
<div class="section">
<h3><a name="HTTP_Operations_Supported:"></a>HTTP Operations Supported:</h3>

<div>
<div>
<pre class="source">POST
</pre></div></div>
</div>
<div class="section">
<h3><a name="Query_Parameters_Supported:"></a>Query Parameters Supported:</h3>
<p>None</p></div>
<div class="section">
<h3><a name="response:_TimelinePutResponse"></a>response: <tt>TimelinePutResponse</tt></h3></div>
<div class="section">
<h3><a name="Request_Examples:"></a>Request Examples:</h3>
<div class="section">
<h4><a name="JSON_request"></a>JSON request</h4>
<p>HTTP Request:</p>

<div>
<div>
<pre class="source">POST http://&lt;timeline server http address:port&gt;/ws/v1/timeline
</pre></div></div>

<p>Request Header:</p>

<div>
<div>
<pre class="source">POST /ws/v1/timeline HTTP/1.1
Accept: application/json
Content-Type: application/json
Transfer-Encoding: chunked
</pre></div></div>

<p>Request Body:</p>

<div>
<div>
<pre class="source">{
  &quot;entities&quot; : [ {
    &quot;entity&quot; : &quot;entity id 0&quot;,
    &quot;entitytype&quot; : &quot;entity type 0&quot;,
    &quot;relatedentities&quot; : {
      &quot;test ref type 2&quot; : [ &quot;test ref id 2&quot; ],
      &quot;test ref type 1&quot; : [ &quot;test ref id 1&quot; ]
    },
    &quot;events&quot; : [ {
      &quot;timestamp&quot; : 1395818851590,
      &quot;eventtype&quot; : &quot;event type 0&quot;,
      &quot;eventinfo&quot; : {
        &quot;key2&quot; : &quot;val2&quot;,
        &quot;key1&quot; : &quot;val1&quot;
      }
    }, {
      &quot;timestamp&quot; : 1395818851590,
      &quot;eventtype&quot; : &quot;event type 1&quot;,
      &quot;eventinfo&quot; : {
        &quot;key2&quot; : &quot;val2&quot;,
        &quot;key1&quot; : &quot;val1&quot;
      }
    } ],
    &quot;primaryfilters&quot; : {
      &quot;pkey2&quot; : [ &quot;pval2&quot; ],
      &quot;pkey1&quot; : [ &quot;pval1&quot; ]
    },
    &quot;otherinfo&quot; : {
      &quot;okey2&quot; : &quot;oval2&quot;,
      &quot;okey1&quot; : &quot;oval1&quot;
    },
    &quot;starttime&quot; : 1395818851588
  }, {
    &quot;entity&quot; : &quot;entity id 1&quot;,
    &quot;entitytype&quot; : &quot;entity type 0&quot;,
    &quot;relatedentities&quot; : {
      &quot;test ref type 2&quot; : [ &quot;test ref id 2&quot; ],
      &quot;test ref type 1&quot; : [ &quot;test ref id 1&quot; ]
    },
    &quot;events&quot; : [ {
      &quot;timestamp&quot; : 1395818851590,
      &quot;eventtype&quot; : &quot;event type 0&quot;,
      &quot;eventinfo&quot; : {
        &quot;key2&quot; : &quot;val2&quot;,
        &quot;key1&quot; : &quot;val1&quot;
      }
    }, {
      &quot;timestamp&quot; : 1395818851590,
      &quot;eventtype&quot; : &quot;event type 1&quot;,
      &quot;eventinfo&quot; : {
        &quot;key2&quot; : &quot;val2&quot;,
        &quot;key1&quot; : &quot;val1&quot;
      }
    } ],
    &quot;primaryfilters&quot; : {
      &quot;pkey2&quot; : [ &quot;pval2&quot; ],
      &quot;pkey1&quot; : [ &quot;pval1&quot; ]
    },
    &quot;otherinfo&quot; : {
      &quot;okey2&quot; : &quot;oval2&quot;,
      &quot;okey1&quot; : &quot;oval1&quot;
    },
    &quot;starttime&quot; : 1395818851590
  } ]
}
</pre></div></div>

<p>Required fields</p>
<p>Entity: <tt>type</tt> and <tt>id</tt>. <tt>starttime</tt> is required unless the entity contains one or more event). Event: <tt>type</tt> and <tt>timestamp</tt>.</p></div></div></div>
<div class="section">
<h2><a name="Timeline_Entity_List"></a><a name="REST_API_LIST_TIMELINE_ENTITIES"></a>Timeline Entity List</h2>
<p>With the Timeline Entity List API,  you can retrieve a list of entity object, sorted by the starting timestamp for the entity, descending. The starting timestamp of an entity can be a timestamp specified by the your application. If it is not explicitly specified, it will be chosen by the store to be the earliest timestamp of the events received in the first post for the entity.</p>
<div class="section">
<h3><a name="URI:"></a>URI:</h3>
<p>Use the following URI to obtain all the entity objects of a given <tt>entityType</tt>.</p>

<div>
<div>
<pre class="source">http(s)://&lt;timeline server http(s) address:port&gt;/ws/v1/timeline/{entityType}
</pre></div></div>
</div>
<div class="section">
<h3><a name="HTTP_Operations_Supported:"></a>HTTP Operations Supported:</h3>

<div>
<div>
<pre class="source">GET
</pre></div></div>
</div>
<div class="section">
<h3><a name="Query_Parameters_Supported:"></a>Query Parameters Supported:</h3>
<ol style="list-style-type: decimal">

<li><tt>limit</tt> - A limit on the number of entities to return. If null, defaults to 100.</li>
<li><tt>windowStart</tt> - The earliest start timestamp to retrieve (exclusive). If null, defaults to retrieving all entities until the limit is reached.</li>
<li><tt>windowEnd</tt> - The latest start timestamp to retrieve (inclusive). If null, defaults to the max value of Long.</li>
<li><tt>fromId</tt> - If <tt>fromId</tt> is not null, retrieve entities earlier than and including the specified ID. If no start time is found for the specified ID, an empty list of entities will be returned. The <tt>windowEnd</tt> parameter will take precedence if the start time of this entity falls later than <tt>windowEnd</tt>.</li>
<li><tt>fromTs</tt> - If <tt>fromTs</tt> is not null, ignore entities that were inserted into the store after the given timestamp. The entity&#x2019;s insert timestamp used for this comparison is the store&#x2019;s system time when the first put for the entity was received (not the entity&#x2019;s start time).</li>
<li><tt>primaryFilter</tt> - Retrieves only entities that have the specified primary filter. If null, retrieves all entities. This is an indexed retrieval, and no entities that do not match the filter are scanned.</li>
<li><tt>secondaryFilters</tt> - Retrieves only entities that have exact matches for all the specified filters in their primary filters or other info. This is not an indexed retrieval, so all entities are scanned but only those matching the filters are returned.</li>
<li>fields - Specifies which fields of the entity object to retrieve: <tt>EVENTS</tt>, <tt>RELATED_ENTITIES</tt>, <tt>PRIMARY_FILTERS</tt>, <tt>OTHER_INFO</tt>, <tt>LAST_EVENT_ONLY</tt>. If the set of fields contains <tt>LAST_EVENT_ONLY</tt> and not <tt>EVENTS</tt>, the most recent event for each entity is retrieved. If null, retrieves all fields.</li>
</ol>
<p>Note that the value of the key/value pair for <tt>primaryFilter</tt> and <tt>secondaryFilters</tt> parameters can be of different data types, and matching is data type sensitive. Users need to format the value properly. For example, <tt>123</tt> and <tt>&quot;123&quot;</tt> means an integer and a string respectively. If the entity has a string <tt>&quot;123&quot;</tt> for <tt>primaryFilter</tt>, but the parameter is set to the integer <tt>123</tt>, the entity will not be matched. Similarly, <tt>true</tt> means a boolean while <tt>&quot;true&quot;</tt> means a string. In general, the value will be casted as a certain Java type in consistent with <tt>jackson</tt> library parsing a JSON clip.</p></div>
<div class="section">
<h3><a name="Elements_of_the_entities_.28Timeline_Entity_List.29_Object"></a>Elements of the <tt>entities</tt> (Time