<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at 2020-07-06
 | Rendered using Apache Maven Stylus Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Apache Hadoop 3.3.0 &#x2013; WebHDFS REST API</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta name="Date-Revision-yyyymmdd" content="20200706" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                </head>
  <body class="composite">
    <div id="banner">
                        <a href="http://hadoop.apache.org/" id="bannerLeft">
                                        <img src="http://hadoop.apache.org/images/hadoop-logo.jpg" alt="" />
                </a>
                              <a href="http://www.apache.org/" id="bannerRight">
                                        <img src="http://www.apache.org/images/asf_logo_wide.png" alt="" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                                   <div class="xleft">
                          <a href="http://www.apache.org/" class="externalLink">Apache</a>
        &gt;
                  <a href="http://hadoop.apache.org/" class="externalLink">Hadoop</a>
        &gt;
                  <a href="../index.html">Apache Hadoop Project Dist POM</a>
        &gt;
                  <a href="index.html">Apache Hadoop 3.3.0</a>
        &gt;
        WebHDFS REST API
        </div>
            <div class="xright">            <a href="http://wiki.apache.org/hadoop" class="externalLink">Wiki</a>
            |
                <a href="https://gitbox.apache.org/repos/asf/hadoop.git" class="externalLink">git</a>
            |
                <a href="http://hadoop.apache.org/" class="externalLink">Apache Hadoop</a>
              
                                   &nbsp;| Last Published: 2020-07-06
              &nbsp;| Version: 3.3.0
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                                                   <h5>General</h5>
                  <ul>
                  <li class="none">
                  <a href="../../index.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/SingleCluster.html">Single Node Setup</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/ClusterSetup.html">Cluster Setup</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/CommandsManual.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/FileSystemShell.html">FileSystem Shell</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Compatibility.html">Compatibility Specification</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/DownstreamDev.html">Downstream Developer's Guide</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/AdminCompatibilityGuide.html">Admin Compatibility Guide</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/InterfaceClassification.html">Interface Classification</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/filesystem/index.html">FileSystem Specification</a>
            </li>
          </ul>
                       <h5>Common</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/CLIMiniCluster.html">CLI Mini Cluster</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/FairCallQueue.html">Fair Call Queue</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/NativeLibraries.html">Native Libraries</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Superusers.html">Proxy User</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/RackAwareness.html">Rack Awareness</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/SecureMode.html">Secure Mode</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/ServiceLevelAuth.html">Service Level Authorization</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/HttpAuthentication.html">HTTP Authentication</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/CredentialProviderAPI.html">Credential Provider API</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-kms/index.html">Hadoop KMS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Tracing.html">Tracing</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/UnixShellGuide.html">Unix Shell Guide</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/registry/index.html">Registry</a>
            </li>
          </ul>
                       <h5>HDFS</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsDesign.html">Architecture</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsUserGuide.html">User Guide</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSCommands.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithQJM.html">NameNode HA With QJM</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithNFS.html">NameNode HA With NFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ObserverNameNode.html">Observer NameNode</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/Federation.html">Federation</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ViewFs.html">ViewFs</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsSnapshots.html">Snapshots</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsEditsViewer.html">Edits Viewer</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsImageViewer.html">Image Viewer</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsPermissionsGuide.html">Permissions and HDFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsQuotaAdminGuide.html">Quotas and HDFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/LibHdfs.html">libhdfs (C API)</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/WebHDFS.html">WebHDFS (REST API)</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-hdfs-httpfs/index.html">HttpFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ShortCircuitLocalReads.html">Short Circuit Local Reads</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/CentralizedCacheManagement.html">Centralized Cache Management</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsNfsGateway.html">NFS Gateway</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsRollingUpgrade.html">Rolling Upgrade</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ExtendedAttributes.html">Extended Attributes</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/TransparentEncryption.html">Transparent Encryption</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsMultihoming.html">Multihoming</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ArchivalStorage.html">Storage Policies</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/MemoryStorage.html">Memory Storage Support</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/SLGUserGuide.html">Synthetic Load Generator</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSErasureCoding.html">Erasure Coding</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSDiskbalancer.html">Disk Balancer</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsUpgradeDomain.html">Upgrade Domain</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsDataNodeAdminGuide.html">DataNode Admin</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs-rbf/HDFSRouterFederation.html">Router Federation</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsProvidedStorage.html">Provided Storage</a>
            </li>
          </ul>
                       <h5>MapReduce</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduceTutorial.html">Tutorial</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapredCommands.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduce_Compatibility_Hadoop1_Hadoop2.html">Compatibility with 1.x</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/EncryptedShuffle.html">Encrypted Shuffle</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/PluggableShuffleAndPluggableSort.html">Pluggable Shuffle/Sort</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/DistributedCacheDeploy.html">Distributed Cache Deploy</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/SharedCacheSupport.html">Support for YARN Shared Cache</a>
            </li>
          </ul>
                       <h5>MapReduce REST APIs</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapredAppMasterRest.html">MR Application Master</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-hs/HistoryServerRest.html">MR History Server</a>
            </li>
          </ul>
                       <h5>YARN</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YARN.html">Architecture</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YarnCommands.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/CapacityScheduler.html">Capacity Scheduler</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/FairScheduler.html">Fair Scheduler</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceManagerRestart.html">ResourceManager Restart</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html">ResourceManager HA</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceModel.html">Resource Model</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeLabel.html">Node Labels</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeAttributes.html">Node Attributes</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/WebApplicationProxy.html">Web Application Proxy</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/TimelineServer.html">Timeline Server</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/TimelineServiceV2.html">Timeline Service V.2</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/WritingYarnApplications.html">Writing YARN Applications</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YarnApplicationSecurity.html">YARN Application Security</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeManager.html">NodeManager</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/DockerContainers.html">Running Applications in Docker Containers</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/RuncContainers.html">Running Applications in runC Containers</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeManagerCgroups.html">Using CGroups</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/SecureContainer.html">Secure Containers</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ReservationSystem.html">Reservation System</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/GracefulDecommission.html">Graceful Decommission</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/OpportunisticContainers.html">Opportunistic Containers</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/Federation.html">YARN Federation</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/SharedCache.html">Shared Cache</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/UsingGpus.html">Using GPU</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/UsingFPGA.html">Using FPGA</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/PlacementConstraints.html">Placement Constraints</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YarnUI2.html">YARN UI2</a>
            </li>
          </ul>
                       <h5>YARN REST APIs</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/WebServicesIntro.html">Introduction</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceManagerRest.html">Resource Manager</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeManagerRest.html">Node Manager</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/TimelineServer.html#Timeline_Server_REST_API_v1">Timeline Server</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/TimelineServiceV2.html#Timeline_Service_v.2_REST_API">Timeline Service V.2</a>
            </li>
          </ul>
                       <h5>YARN Service</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/Overview.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/QuickStart.html">QuickStart</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/Concepts.html">Concepts</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/YarnServiceAPI.html">Yarn Service API</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/ServiceDiscovery.html">Service Discovery</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/SystemServices.html">System Services</a>
            </li>
          </ul>
                       <h5>Hadoop Compatible File Systems</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-aliyun/tools/hadoop-aliyun/index.html">Aliyun OSS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-aws/tools/hadoop-aws/index.html">Amazon S3</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-azure/index.html">Azure Blob Storage</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-azure-datalake/index.html">Azure Data Lake Storage</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-openstack/index.html">OpenStack Swift</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-cos/cloud-storage/index.html">Tencent COS</a>
            </li>
          </ul>
                       <h5>Auth</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-auth/index.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-auth/Examples.html">Examples</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-auth/Configuration.html">Configuration</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-auth/BuildingIt.html">Building</a>
            </li>
          </ul>
                       <h5>Tools</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-streaming/HadoopStreaming.html">Hadoop Streaming</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-archives/HadoopArchives.html">Hadoop Archives</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-archive-logs/HadoopArchiveLogs.html">Hadoop Archive Logs</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-distcp/DistCp.html">DistCp</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-gridmix/GridMix.html">GridMix</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-rumen/Rumen.html">Rumen</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-resourceestimator/ResourceEstimator.html">Resource Estimator Service</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-sls/SchedulerLoadSimulator.html">Scheduler Load Simulator</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Benchmarking.html">Hadoop Benchmarking</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-dynamometer/Dynamometer.html">Dynamometer</a>
            </li>
          </ul>
                       <h5>Reference</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/release/">Changelog and Release Notes</a>
            </li>
                  <li class="none">
                  <a href="../../api/index.html">Java API docs</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/UnixShellAPI.html">Unix Shell API</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Metrics.html">Metrics</a>
            </li>
          </ul>
                       <h5>Configuration</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/core-default.xml">core-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/hdfs-default.xml">hdfs-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs-rbf/hdfs-rbf-default.xml">hdfs-rbf-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/mapred-default.xml">mapred-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-common/yarn-default.xml">yarn-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/DeprecatedProperties.html">Deprecated Properties</a>
            </li>
          </ul>
                                 <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
          <img alt="Built by Maven" src="./images/logos/maven-feather.png"/>
        </a>
                       
                               </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!---
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
-->
<h1>WebHDFS REST API</h1>
<ul>
<li><a href="#Document_Conventions">Document Conventions</a></li>
<li><a href="#Introduction">Introduction</a>
<ul>
<li><a href="#Operations">Operations</a></li>
<li><a href="#FileSystem_URIs_vs_HTTP_URLs">FileSystem URIs vs HTTP URLs</a></li>
<li><a href="#HDFS_Configuration_Options">HDFS Configuration Options</a></li></ul></li>
<li><a href="#Authentication">Authentication</a></li>
<li><a href="#SSL_Configurations_for_SWebHDFS">SSL Configurations for SWebHDFS</a></li>
<li><a href="#Proxy_Users">Proxy Users</a></li>
<li><a href="#Cross-Site_Request_Forgery_Prevention">Cross-Site Request Forgery Prevention</a></li>
<li><a href="#WebHDFS_Retry_Policy">WebHDFS Retry Policy</a></li>
<li><a href="#WebHDFS_Request_Filtering">WebHDFS Request Filtering</a></li>
<li><a href="#File_and_Directory_Operations">File and Directory Operations</a>
<ul>
<li><a href="#Create_and_Write_to_a_File">Create and Write to a File</a></li>
<li><a href="#Append_to_a_File">Append to a File</a></li>
<li><a href="#Concat_File.28s.29">Concat File(s)</a></li>
<li><a href="#Open_and_Read_a_File">Open and Read a File</a></li>
<li><a href="#Make_a_Directory">Make a Directory</a></li>
<li><a href="#Create_a_Symbolic_Link">Create a Symbolic Link</a></li>
<li><a href="#Rename_a_File.2FDirectory">Rename a File/Directory</a></li>
<li><a href="#Delete_a_File.2FDirectory">Delete a File/Directory</a></li>
<li><a href="#Truncate_a_File">Truncate a File</a></li>
<li><a href="#Status_of_a_File.2FDirectory">Status of a File/Directory</a></li>
<li><a href="#List_a_Directory">List a Directory</a></li>
<li><a href="#List_a_File">List a File</a></li>
<li><a href="#Iteratively_List_a_Directory">Iteratively List a Directory</a></li></ul></li>
<li><a href="#Other_File_System_Operations">Other File System Operations</a>
<ul>
<li><a href="#Get_Content_Summary_of_a_Directory">Get Content Summary of a Directory</a></li>
<li><a href="#Get_Quota_Usage_of_a_Directory">Get Quota Usage of a Directory</a></li>
<li><a href="#Set_Quota">Set Quota</a></li>
<li><a href="#Set_Quota_By_Storage_Type">Set Quota By Storage Type</a></li>
<li><a href="#Get_File_Checksum">Get File Checksum</a></li>
<li><a href="#Get_Home_Directory">Get Home Directory</a></li>
<li><a href="#Get_Trash_Root">Get Trash Root</a></li>
<li><a href="#Set_Permission">Set Permission</a></li>
<li><a href="#Set_Owner">Set Owner</a></li>
<li><a href="#Set_Replication_Factor">Set Replication Factor</a></li>
<li><a href="#Set_Access_or_Modification_Time">Set Access or Modification Time</a></li>
<li><a href="#Modify_ACL_Entries">Modify ACL Entries</a></li>
<li><a href="#Remove_ACL_Entries">Remove ACL Entries</a></li>
<li><a href="#Remove_Default_ACL">Remove Default ACL</a></li>
<li><a href="#Remove_ACL">Remove ACL</a></li>
<li><a href="#Set_ACL">Set ACL</a></li>
<li><a href="#Get_ACL_Status">Get ACL Status</a></li>
<li><a href="#Check_access">Check access</a></li></ul></li>
<li><a href="#Storage_Policy_Operations">Storage Policy Operations</a>
<ul>
<li><a href="#Get_all_Storage_Policies">Get all Storage Policies</a></li>
<li><a href="#Set_Storage_Policy">Set Storage Policy</a></li>
<li><a href="#Unset_Storage_Policy">Unset Storage Policy</a></li>
<li><a href="#Get_Storage_Policy">Get Storage Policy</a></li>
<li><a href="#Satisfy_Storage_Policy">Satisfy Storage Policy</a></li>
<li><a href="#Get_File_Block_Locations">Get File Block Locations</a></li></ul></li>
<li><a href="#Extended_Attributes.28XAttrs.29_Operations">Extended Attributes(XAttrs) Operations</a>
<ul>
<li><a href="#Set_XAttr">Set XAttr</a></li>
<li><a href="#Remove_XAttr">Remove XAttr</a></li>
<li><a href="#Get_an_XAttr">Get an XAttr</a></li>
<li><a href="#Get_multiple_XAttrs">Get multiple XAttrs</a></li>
<li><a href="#Get_all_XAttrs">Get all XAttrs</a></li>
<li><a href="#List_all_XAttrs">List all XAttrs</a></li></ul></li>
<li><a href="#Erasure_Coding_Operations">Erasure Coding Operations</a>
<ul>
<li><a href="#Enable_EC_Policy">Enable EC Policy</a></li>
<li><a href="#Disable_EC_Policy">Disable EC Policy</a></li>
<li><a href="#Set_EC_Policy">Set EC Policy</a></li>
<li><a href="#Get_EC_Policy">Get EC Policy</a></li>
<li><a href="#Unset_EC_Policy">Unset EC Policy</a></li></ul></li>
<li><a href="#Snapshot_Operations">Snapshot Operations</a>
<ul>
<li><a href="#Allow_Snapshot">Allow Snapshot</a></li>
<li><a href="#Disallow_Snapshot">Disallow Snapshot</a></li>
<li><a href="#Create_Snapshot">Create Snapshot</a></li>
<li><a href="#Delete_Snapshot">Delete Snapshot</a></li>
<li><a href="#Rename_Snapshot">Rename Snapshot</a></li>
<li><a href="#Get_Snapshot_Diff">Get Snapshot Diff</a></li>
<li><a href="#Get_Snapshottable_Directory_List">Get Snapshottable Directory List</a></li></ul></li>
<li><a href="#Delegation_Token_Operations">Delegation Token Operations</a>
<ul>
<li><a href="#Get_Delegation_Token">Get Delegation Token</a></li>
<li><a href="#Renew_Delegation_Token">Renew Delegation Token</a></li>
<li><a href="#Cancel_Delegation_Token">Cancel Delegation Token</a></li></ul></li>
<li><a href="#Error_Responses">Error Responses</a>
<ul>
<li><a href="#HTTP_Response_Codes">HTTP Response Codes</a>
<ul>
<li><a href="#Illegal_Argument_Exception">Illegal Argument Exception</a></li>
<li><a href="#Security_Exception">Security Exception</a></li>
<li><a href="#Access_Control_Exception">Access Control Exception</a></li>
<li><a href="#File_Not_Found_Exception">File Not Found Exception</a></li></ul></li></ul></li>
<li><a href="#JSON_Schemas">JSON Schemas</a>
<ul>
<li><a href="#ACL_Status_JSON_Schema">ACL Status JSON Schema</a></li>
<li><a href="#XAttrs_JSON_Schema">XAttrs JSON Schema</a></li>
<li><a href="#XAttrNames_JSON_Schema">XAttrNames JSON Schema</a></li>
<li><a href="#Boolean_JSON_Schema">Boolean JSON Schema</a></li>
<li><a href="#ContentSummary_JSON_Schema">ContentSummary JSON Schema</a></li>
<li><a href="#QuotaUsage_JSON_Schema">QuotaUsage JSON Schema</a></li>
<li><a href="#FileChecksum_JSON_Schema">FileChecksum JSON Schema</a></li>
<li><a href="#FileStatus_JSON_Schema">FileStatus JSON Schema</a>
<ul>
<li><a href="#FileStatus_Properties">FileStatus Properties</a></li></ul></li>
<li><a href="#FileStatuses_JSON_Schema">FileStatuses JSON Schema</a></li>
<li><a href="#DirectoryListing_JSON_Schema">DirectoryListing JSON Schema</a></li>
<li><a href="#Long_JSON_Schema">Long JSON Schema</a></li>
<li><a href="#Path_JSON_Schema">Path JSON Schema</a></li>
<li><a href="#RemoteException_JSON_Schema">RemoteException JSON Schema</a></li>
<li><a href="#Token_JSON_Schema">Token JSON Schema</a>
<ul>
<li><a href="#Token_Properties">Token Properties</a></li></ul></li>
<li><a href="#BlockStoragePolicy_JSON_Schema">BlockStoragePolicy JSON Schema</a>
<ul>
<li><a href="#BlockStoragePolicy_Properties">BlockStoragePolicy Properties</a></li></ul></li>
<li><a href="#ECPolicy_JSON_Schema">ECPolicy JSON Schema</a></li>
<li><a href="#BlockStoragePolicies_JSON_Schema">BlockStoragePolicies JSON Schema</a></li>
<li><a href="#SnapshotDiffReport_JSON_Schema">SnapshotDiffReport JSON Schema</a>
<ul>
<li><a href="#DiffReport_Entries">DiffReport Entries</a></li></ul></li>
<li><a href="#SnapshottableDirectoryList_JSON_Schema">SnapshottableDirectoryList JSON Schema</a>
<ul>
<li><a href="#SnapshottableDirectoryStatus">SnapshottableDirectoryStatus</a></li></ul></li>
<li><a href="#BlockLocations_JSON_Schema">BlockLocations JSON Schema</a></li>
<li><a href="#BlockLocation_JSON_Schema">BlockLocation JSON Schema</a>
<ul>
<li><a href="#BlockLocation_Properties">BlockLocation Properties</a></li></ul></li></ul></li>
<li><a href="#HTTP_Query_Parameter_Dictionary">HTTP Query Parameter Dictionary</a>
<ul>
<li><a href="#ACL_Spec">ACL Spec</a></li>
<li><a href="#XAttr_Name">XAttr Name</a></li>
<li><a href="#XAttr_Value">XAttr Value</a></li>
<li><a href="#XAttr_set_flag">XAttr set flag</a></li>
<li><a href="#XAttr_value_encoding">XAttr value encoding</a></li>
<li><a href="#Access_Time">Access Time</a></li>
<li><a href="#Block_Size">Block Size</a></li>
<li><a href="#Buffer_Size">Buffer Size</a></li>
<li><a href="#Create_Flag">Create Flag</a></li>
<li><a href="#Create_Parent">Create Parent</a></li>
<li><a href="#Delegation">Delegation</a></li>
<li><a href="#Destination">Destination</a></li>
<li><a href="#Do_As">Do As</a></li>
<li><a href="#Fs_Action">Fs Action</a></li>
<li><a href="#Group">Group</a></li>
<li><a href="#Length">Length</a></li>
<li><a href="#Modification_Time">Modification Time</a></li>
<li><a href="#New_Length">New Length</a></li>
<li><a href="#Offset">Offset</a></li>
<li><a href="#Old_Snapshot_Name">Old Snapshot Name</a></li>
<li><a href="#Op">Op</a></li>
<li><a href="#Overwrite">Overwrite</a></li>
<li><a href="#Owner">Owner</a></li>
<li><a href="#Permission">Permission</a></li>
<li><a href="#Recursive">Recursive</a></li>
<li><a href="#Renewer">Renewer</a></li>
<li><a href="#Replication">Replication</a></li>
<li><a href="#Snapshot_Name">Snapshot Name</a></li>
<li><a href="#Sources">Sources</a></li>
<li><a href="#Token">Token</a></li>
<li><a href="#Token_Kind">Token Kind</a></li>
<li><a href="#Token_Service">Token Service</a></li>
<li><a href="#Username">Username</a></li>
<li><a href="#NoRedirect">NoRedirect</a></li>
<li><a href="#Namespace_Quota">Namespace Quota</a></li>
<li><a href="#Storage_Space_Quota">Storage Space Quota</a></li>
<li><a href="#Storage_Type">Storage Type</a></li>
<li><a href="#Storage_Policy">Storage Policy</a></li>
<li><a href="#Erasure_Coding_Policy">Erasure Coding Policy</a></li>
<li><a href="#Start_After">Start After</a></li></ul></li></ul>

<div class="section">
<h2><a name="Document_Conventions"></a>Document Conventions</h2>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th align="left"> <tt>Monospaced</tt> </th>
<th align="left"> Used for commands, HTTP request and responses and code blocks. </th></tr>
</thead><tbody>

<tr class="b">
<td align="left"> <tt>&lt;Monospaced&gt;</tt> </td>
<td align="left"> User entered values. </td></tr>
<tr class="a">
<td align="left"> <tt>[Monospaced]</tt> </td>
<td align="left"> Optional values. When the value is not specified, the default value is used. </td></tr>
<tr class="b">
<td align="left"> <i>Italics</i> </td>
<td align="left"> Important phrases and words. </td></tr>
</tbody>
</table></div>
<div class="section">
<h2><a name="Introduction"></a>Introduction</h2>
<p>The HTTP REST API supports the complete <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>/<a href="../../api/org/apache/hadoop/fs/FileContext.html">FileContext</a> interface for HDFS. The operations and the corresponding FileSystem/FileContext methods are shown in the next section. The Section <a href="#HTTP_Query_Parameter_Dictionary">HTTP Query Parameter Dictionary</a> specifies the parameter details such as the defaults and the valid values.</p>
<div class="section">
<h3><a name="Operations"></a>Operations</h3>
<ul>

<li>HTTP GET
<ul>

<li><a href="#Open_and_Read_a_File"><tt>OPEN</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.open)</li>
<li><a href="#Status_of_a_FileDirectory"><tt>GETFILESTATUS</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.getFileStatus)</li>
<li><a href="#List_a_Directory"><tt>LISTSTATUS</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.listStatus)</li>
<li><a href="#Iteratively_List_a_Directory"><tt>LISTSTATUS_BATCH</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.listStatusIterator)</li>
<li><a href="#Get_Content_Summary_of_a_Directory"><tt>GETCONTENTSUMMARY</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.getContentSummary)</li>
<li><a href="#Get_Quota_Usage_of_a_Directory"><tt>GETQUOTAUSAGE</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.getQuotaUsage)</li>
<li><a href="#Get_File_Checksum"><tt>GETFILECHECKSUM</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.getFileChecksum)</li>
<li><a href="#Get_Home_Directory"><tt>GETHOMEDIRECTORY</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.getHomeDirectory)</li>
<li><a href="#Get_Delegation_Token"><tt>GETDELEGATIONTOKEN</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.getDelegationToken)</li>
<li><a href="#Get_Trash_Root"><tt>GETTRASHROOT</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.getTrashRoot)</li>
<li><a href="#Get_an_XAttr"><tt>GETXATTRS</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.getXAttr)</li>
<li><a href="#Get_multiple_XAttrs"><tt>GETXATTRS</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.getXAttrs)</li>
<li><a href="#Get_all_XAttrs"><tt>GETXATTRS</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.getXAttrs)</li>
<li><a href="#List_all_XAttrs"><tt>LISTXATTRS</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.listXAttrs)</li>
<li><a href="#Check_access"><tt>CHECKACCESS</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.access)</li>
<li><a href="#Get_all_Storage_Policies"><tt>GETALLSTORAGEPOLICY</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.getAllStoragePolicies)</li>
<li><a href="#Get_Storage_Policy"><tt>GETSTORAGEPOLICY</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.getStoragePolicy)</li>
<li><a href="#Get_Snapshot_Diff"><tt>GETSNAPSHOTDIFF</tt></a></li>
<li><a href="#Get_Snapshottable_Directory_List"><tt>GETSNAPSHOTTABLEDIRECTORYLIST</tt></a></li>
<li><a href="#Get_File_Block_Locations"><tt>GETFILEBLOCKLOCATIONS</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.getFileBlockLocations)</li>
<li><a href="#Get_EC_Policy"><tt>GETECPOLICY</tt></a> (see <a href="./HDFSErasureCoding.html#Administrative_commands">HDFSErasureCoding</a>.getErasureCodingPolicy)</li>
</ul>
</li>
<li>HTTP PUT
<ul>

<li><a href="#Create_and_Write_to_a_File"><tt>CREATE</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.create)</li>
<li><a href="#Make_a_Directory"><tt>MKDIRS</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.mkdirs)</li>
<li><a href="#Create_a_Symbolic_Link"><tt>CREATESYMLINK</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileContext.html">FileContext</a>.createSymlink)</li>
<li><a href="#Rename_a_FileDirectory"><tt>RENAME</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.rename)</li>
<li><a href="#Set_Replication_Factor"><tt>SETREPLICATION</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.setReplication)</li>
<li><a href="#Set_Owner"><tt>SETOWNER</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.setOwner)</li>
<li><a href="#Set_Permission"><tt>SETPERMISSION</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.setPermission)</li>
<li><a href="#Set_Access_or_Modification_Time"><tt>SETTIMES</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.setTimes)</li>
<li><a href="#Renew_Delegation_Token"><tt>RENEWDELEGATIONTOKEN</tt></a> (see <a href="../../api/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticator.html">DelegationTokenAuthenticator</a>.renewDelegationToken)</li>
<li><a href="#Cancel_Delegation_Token"><tt>CANCELDELEGATIONTOKEN</tt></a> (see <a href="../../api/org/apache/hadoop/security/token/delegation/web/DelegationTokenAuthenticator.html">DelegationTokenAuthenticator</a>.cancelDelegationToken)</li>
<li><a href="#Allow_Snapshot"><tt>ALLOWSNAPSHOT</tt></a></li>
<li><a href="#Disallow_Snapshot"><tt>DISALLOWSNAPSHOT</tt></a></li>
<li><a href="#Create_Snapshot"><tt>CREATESNAPSHOT</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.createSnapshot)</li>
<li><a href="#Rename_Snapshot"><tt>RENAMESNAPSHOT</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.renameSnapshot)</li>
<li><a href="#Set_XAttr"><tt>SETXATTR</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.setXAttr)</li>
<li><a href="#Remove_XAttr"><tt>REMOVEXATTR</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.removeXAttr)</li>
<li><a href="#Set_Storage_Policy"><tt>SETSTORAGEPOLICY</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.setStoragePolicy)</li>
<li><a href="#Satisfy_Storage_Policy"><tt>SATISFYSTORAGEPOLICY</tt></a> (see <a href="./ArchivalStorage.html#Satisfy_Storage_Policy">ArchivalStorage</a>.satisfyStoragePolicy)</li>
<li><a href="#Enable_EC_Policy"><tt>ENABLEECPOLICY</tt></a> (see <a href="./HDFSErasureCoding.html#Administrative_commands">HDFSErasureCoding</a>.enablePolicy)</li>
<li><a href="#Disable_EC_Policy"><tt>DISABLEECPOLICY</tt></a> (see <a href="./HDFSErasureCoding.html#Administrative_commands">HDFSErasureCoding</a>.disablePolicy)</li>
<li><a href="#Set_EC_Policy"><tt>SETECPOLICY</tt></a> (see <a href="./HDFSErasureCoding.html#Administrative_commands">HDFSErasureCoding</a>.setErasureCodingPolicy)</li>
</ul>
</li>
<li>HTTP POST
<ul>

<li><a href="#Append_to_a_File"><tt>APPEND</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.append)</li>
<li><a href="#Concat_Files"><tt>CONCAT</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.concat)</li>
<li><a href="#Truncate_a_File"><tt>TRUNCATE</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.truncate)</li>
<li><a href="#Unset_Storage_Policy"><tt>UNSETSTORAGEPOLICY</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.unsetStoragePolicy)</li>
<li><a href="#Unset_EC_Policy"><tt>UNSETECPOLICY</tt></a> (see <a href="./HDFSErasureCoding.html#Administrative_commands">HDFSErasureCoding</a>.unsetErasureCodingPolicy)</li>
</ul>
</li>
<li>HTTP DELETE
<ul>

<li><a href="#Delete_a_FileDirectory"><tt>DELETE</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.delete)</li>
<li><a href="#Delete_Snapshot"><tt>DELETESNAPSHOT</tt></a> (see <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem</a>.deleteSnapshot)</li>
</ul>
</li>
</ul></div>
<div class="section">
<h3><a name="FileSystem_URIs_vs_HTTP_URLs"></a>FileSystem URIs vs HTTP URLs</h3>
<p>The FileSystem scheme of WebHDFS is &#x201c;<tt>webhdfs://</tt>&#x201d;. A WebHDFS FileSystem URI has the following format.</p>

<div>
<div>
<pre class="source">  webhdfs://&lt;HOST&gt;:&lt;HTTP_PORT&gt;/&lt;PATH&gt;
</pre></div></div>

<p>The above WebHDFS URI corresponds to the below HDFS URI.</p>

<div>
<div>
<pre class="source">  hdfs://&lt;HOST&gt;:&lt;RPC_PORT&gt;/&lt;PATH&gt;
</pre></div></div>

<p>In the REST API, the prefix &#x201c;<tt>/webhdfs/v1</tt>&#x201d; is inserted in the path and a query is appended at the end. Therefore, the corresponding HTTP URL has the following format.</p>

<div>
<div>
<pre class="source">  http://&lt;HOST&gt;:&lt;HTTP_PORT&gt;/webhdfs/v1/&lt;PATH&gt;?op=...
</pre></div></div>

<p><b>Note</b> that if WebHDFS is secured with SSL, then the scheme should be &#x201c;<tt>swebhdfs://</tt>&#x201d;.</p>

<div>
<div>
<pre class="source">  swebhdfs://&lt;HOST&gt;:&lt;HTTP_PORT&gt;/&lt;PATH&gt;
</pre></div></div>

<p>See also: <a href="#SSL_Configurations_for_SWebHDFS">SSL Configurations for SWebHDFS</a></p></div>
<div class="section">
<h3><a name="HDFS_Configuration_Options"></a>HDFS Configuration Options</h3>
<p>Below are the HDFS configuration options for WebHDFS.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th align="left"> Property Name </th>
<th align="left"> Description </th></tr>
</thead><tbody>

<tr class="b">
<td align="left"> <tt>dfs.web.authentication.kerberos.principal</tt> </td>
<td align="left"> The HTTP Kerberos principal used by Hadoop-Auth in the HTTP endpoint. The HTTP Kerberos principal MUST start with &#x2018;HTTP/&#x2019; per Kerberos HTTP SPNEGO specification. A value of &#x201c;*&#x201d; will use all HTTP principals found in the keytab. </td></tr>
<tr class="a">
<td align="left"> <tt>dfs.web.authentication.kerberos.keytab</tt> </td>
<td align="left"> The Kerberos keytab file with the credentials for the HTTP Kerberos principal used by Hadoop-Auth in the HTTP endpoint. </td></tr>
<tr class="b">
<td align="left"> <tt>dfs.webhdfs.socket.connect-timeout</tt> </td>
<td align="left"> How long to wait for a connection to be established before failing.  Specified as a time duration, ie numerical value followed by a units symbol, eg 2m for two minutes. Defaults to 60s. </td></tr>
<tr class="a">
<td align="left"> <tt>dfs.webhdfs.socket.read-timeout</tt> </td>
<td align="left"> How long to wait for data to arrive before failing.  Defaults to 60s. </td></tr>
</tbody>
</table></div></div>
<div class="section">
<h2><a name="Authentication"></a>Authentication</h2>
<p>When security is <i>off</i>, the authenticated user is the username specified in the <tt>user.name</tt> query parameter. If the <tt>user.name</tt> parameter is not set, the server may either set the authenticated user to a default web user, if there is any, or return an error response.</p>
<p>When security is <i>on</i>, authentication is performed by either Hadoop delegation token or Kerberos SPNEGO. If a token is set in the <tt>delegation</tt> query parameter, the authenticated user is the user encoded in the token. If the <tt>delegation</tt> parameter is not set, the user is authenticated by Kerberos SPNEGO.</p>
<p>Below are examples using the <tt>curl</tt> command tool.</p>
<ol style="list-style-type: decimal">

<li>

<p>Authentication when security is off:</p>

<div>
<div>
<pre class="source">curl -i &quot;http://&lt;HOST&gt;:&lt;PORT&gt;/webhdfs/v1/&lt;PATH&gt;?[user.name=&lt;USER&gt;&amp;]op=...&quot;
</pre></div></div>
</li>
<li>

<p>Authentication using Kerberos SPNEGO when security is on:</p>

<div>
<div>
<pre class="source">curl -i --negotiate -u : &quot;http://&lt;HOST&gt;:&lt;PORT&gt;/webhdfs/v1/&lt;PATH&gt;?op=...&quot;
</pre></div></div>
</li>
<li>

<p>Authentication using Hadoop delegation token when security is on:</p>

<div>
<div>
<pre class="source">curl -i &quot;http://&lt;HOST&gt;:&lt;PORT&gt;/webhdfs/v1/&lt;PATH&gt;?delegation=&lt;TOKEN&gt;&amp;op=...&quot;
</pre></div></div>
</li>
</ol>
<p>See also: <a href="../hadoop-common/HttpAuthentication.html">Authentication for Hadoop HTTP web-consoles</a></p>
<p>Additionally, WebHDFS supports OAuth2 on the client side. The Namenode and Datanodes do not currently support clients using OAuth2 but other backends that implement the WebHDFS REST interface may.</p>
<p>WebHDFS supports two type of OAuth2 code grants (user-provided refresh and access token or user provided credential) by default and provides a pluggable mechanism for implementing other OAuth2 authentications per the <a class="externalLink" href="https://tools.ietf.org/html/rfc6749">OAuth2 RFC</a>, or custom authentications.  When using either of the provided code grant mechanisms, the WebHDFS client will refresh the access token as necessary.</p>
<p>OAuth2 should only be enabled for clients not running with Kerberos SPENGO.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th align="left"> OAuth2 code grant mechanism </th>
<th align="left"> Description </th>
<th align="left"> Value of <tt>dfs.webhdfs.oauth2.access.token.provider</tt> that implements code grant </th></tr>
</thead><tbody>

<tr class="b">
<td align="left"> Authorization Code Grant </td>
<td align="left"> The user provides an initial access token and refresh token, which are then used to authenticate WebHDFS requests and obtain replacement access tokens, respectively. </td>
<td align="left"> org.apache.hadoop.hdfs.web.oauth2.ConfRefreshTokenBasedAccessTokenProvider </td></tr>
<tr class="a">
<td align="left"> Client Credentials Grant </td>
<td align="left"> The user provides a credential which is used to obtain access tokens, which are then used to authenticate WebHDFS requests. </td>
<td align="left"> org.apache.hadoop.hdfs.web.oauth2.ConfCredentialBasedAccessTokenProvider </td></tr>
</tbody>
</table>
<p>The following properties control OAuth2 authentication.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th align="left"> OAuth2 related property </th>
<th align="left"> Description </th></tr>
</thead><tbody>

<tr class="b">
<td align="left"> <tt>dfs.webhdfs.oauth2.enabled</tt> </td>
<td align="left"> Boolean to enable/disable OAuth2 authentication </td></tr>
<tr class="a">
<td align="left"> <tt>dfs.webhdfs.oauth2.access.token.provider</tt> </td>
<td align="left"> Class name of an implementation of <tt>org.apache.hadoop.hdfs.web.oauth.AccessTokenProvider.</tt>  Two are provided with the code, as described above, or the user may specify a user-provided implementation. The default value for this configuration key is the <tt>ConfCredentialBasedAccessTokenProvider</tt> implementation. </td></tr>
<tr class="b">
<td align="left"> <tt>dfs.webhdfs.oauth2.client.id</tt> </td>
<td align="left"> Client id used to obtain access token with either credential or refresh token </td></tr>
<tr class="a">
<td align="left"> <tt>dfs.webhdfs.oauth2.refresh.url</tt> </td>
<td align="left"> URL against which to post for obtaining bearer token with either credential or refresh token </td></tr>
<tr class="b">
<td align="left"> <tt>dfs.webhdfs.oauth2.access.token</tt> </td>
<td align="left"> (required if using ConfRefreshTokenBasedAccessTokenProvider) Initial access token with which to authenticate </td></tr>
<tr class="a">
<td align="left"> <tt>dfs.webhdfs.oauth2.refresh.token</tt> </td>
<td align="left"> (required if using ConfRefreshTokenBasedAccessTokenProvider) Initial refresh token to use to obtain new access tokens  </td></tr>
<tr class="b">
<td align="left"> <tt>dfs.webhdfs.oauth2.refresh.token.expires.ms.since.epoch</tt> </td>
<td align="left"> (required if using ConfRefreshTokenBasedAccessTokenProvider) Access token expiration measured in milliseconds since Jan 1, 1970.  <i>Note this is a different value than provided by OAuth providers and has been munged as described in interface to be suitable for a client application</i>  </td></tr>
<tr class="a">
<td align="left"> <tt>dfs.webhdfs.oauth2.credential</tt> </td>
<td align="left"> (required if using ConfCredentialBasedAccessTokenProvider).  Credential used to obtain initial and subsequent access tokens. </td></tr>
</tbody>
</table></div>
<div class="section">
<h2><a name="SSL_Configurations_for_SWebHDFS"></a>SSL Configurations for SWebHDFS</h2>
<p>To use SWebHDFS FileSystem (i.e. using the swebhdfs protocol), a SSL configuration file needs to be specified on the client side. This must specify 3 parameters:</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th align="left"> SSL property </th>
<th align="left"> Description </th></tr>
</thead><tbody>

<tr class="b">
<td align="left"> <tt>ssl.client.truststore.location</tt> </td>
<td align="left"> The local-filesystem location of the trust-store file, containing the certificate for the NameNode. </td></tr>
<tr class="a">
<td align="left"> <tt>ssl.client.truststore.type</tt> </td>
<td align="left"> (Optional) The format of the trust-store file. </td></tr>
<tr class="b">
<td align="left"> <tt>ssl.client.truststore.password</tt> </td>
<td align="left"> (Optional) Password for the trust-store file. </td></tr>
</tbody>
</table>
<p>The following is an example SSL configuration file (<b>ssl-client.xml</b>):</p>

<div>
<div>
<pre class="source">&lt;configuration&gt;
  &lt;property&gt;
    &lt;name&gt;ssl.client.truststore.location&lt;/name&gt;
    &lt;value&gt;/work/keystore.jks&lt;/value&gt;
    &lt;description&gt;Truststore to be used by clients. Must be specified.&lt;/description&gt;
  &lt;/property&gt;

  &lt;property&gt;
    &lt;name&gt;ssl.client.truststore.password&lt;/name&gt;
    &lt;value&gt;changeme&lt;/value&gt;
    &lt;description&gt;Optional. Default value is &quot;&quot;.&lt;/description&gt;
  &lt;/property&gt;

  &lt;property&gt;
    &lt;name&gt;ssl.client.truststore.type&lt;/name&gt;
    &lt;value&gt;jks&lt;/value&gt;
    &lt;description&gt;Optional. Default value is &quot;jks&quot;.&lt;/description&gt;
  &lt;/property&gt;
&lt;/configuration&gt;
</pre></div></div>

<p>The SSL configuration file must be in the class-path of the client program and the filename needs to be specified in <b>core-site.xml</b>:</p>

<div>
<div>
<pre class="source">&lt;property&gt;
  &lt;name&gt;hadoop.ssl.client.conf&lt;/name&gt;
  &lt;value&gt;ssl-client.xml&lt;/value&gt;
  &lt;description&gt;
    Resource file from which ssl client keystore information will be extracted.
    This file is looked up in the classpath, typically it should be in Hadoop
    conf/ directory. Default value is &quot;ssl-client.xml&quot;.
  &lt;/description&gt;
&lt;/property&gt;
</pre></div></div>
</div>
<div class="section">
<h2><a name="Proxy_Users"></a>Proxy Users</h2>
<p>When the proxy user feature is enabled, a proxy user <i>P</i> may submit a request on behalf of another user <i>U</i>. The username of <i>U</i> must be specified in the <tt>doas</tt> query parameter unless a delegation token is presented in authentication. In such case, the information of both users <i>P</i> and <i>U</i> must be encoded in the delegation token.</p>
<ol style="list-style-type: decimal">

<li>

<p>A proxy request when security is off:</p>

<div>
<div>
<pre class="source">curl -i &quot;http://&lt;HOST&gt;:&lt;PORT&gt;/webhdfs/v1/&lt;PATH&gt;?[user.name=&lt;USER&gt;&amp;]doas=&lt;USER&gt;&amp;op=...&quot;
</pre></div></div>
</li>
<li>

<p>A proxy request using Kerberos SPNEGO when security is on:</p>

<div>
<div>
<pre class="source">curl -i --negotiate -u : &quot;http://&lt;HOST&gt;:&lt;PORT&gt;/webhdfs/v1/&lt;PATH&gt;?doas=&lt;USER&gt;&amp;op=...&quot;
</pre></div></div>
</li>
<li>

<p>A proxy request using Hadoop delegation token when security is on:</p>

<div>
<div>
<pre class="source">curl -i &quot;http://&lt;HOST&gt;:&lt;PORT&gt;/webhdfs/v1/&lt;PATH&gt;?delegation=&lt;TOKEN&gt;&amp;op=...&quot;
</pre></div></div>
</li>
</ol></div>
<div class="section">
<h2><a name="Cross-Site_Request_Forgery_Prevention"></a>Cross-Site Request Forgery Prevention</h2>
<p>WebHDFS supports an optional, configurable mechanism for cross-site request forgery (CSRF) prevention.  When enabled, WebHDFS HTTP requests to the NameNode or DataNode must include a custom HTTP header.  Configuration properties allow adjusting which specific HTTP methods are protected and the name of the HTTP header.  The value sent in the header is not relevant.  Only the presence of a header by that name is required.</p>
<p>Enabling CSRF prevention also sets up the <tt>WebHdfsFileSystem</tt> class to send the required header.  This ensures that CLI commands like <a href="./HDFSCommands.html#dfs"><tt>hdfs dfs</tt></a> and <a href="../../hadoop-distcp/DistCp.html"><tt>hadoop distcp</tt></a> continue to work correctly when used with <tt>webhdfs:</tt> URIs.</p>
<p>Enabling CSRF prevention also sets up the NameNode web UI to send the required header.  After enabling CSRF prevention and restarting the NameNode, existing users of the NameNode web UI need to refresh the browser to reload the page and find the new configuration.</p>
<p>The following properties control CSRF prevention.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th align="left"> Property </th>
<th align="left"> Description </th>
<th align="left"> Default Value </th></tr>
</thead><tbody>

<tr class="b">
<td align="left"> <tt>dfs.webhdfs.rest-csrf.enabled</tt> </td>
<td align="left"> If true, then enables WebHDFS protection against cross-site request forgery (CSRF).  The WebHDFS client also uses this property to determine whether or not it needs to send the custom CSRF prevention header in its HTTP requests. </td>
<td align="left"> <tt>false</tt> </td></tr>
<tr class="a">
<td align="left"> <tt>dfs.webhdfs.rest-csrf.custom-header</tt> </td>
<td align="left"> The name of a custom header that HTTP requests must send when protection against cross-site request forgery (CSRF) is enabled for WebHDFS by setting dfs.webhdfs.rest-csrf.enabled to true.  The WebHDFS client also uses this property to determine whether or not it needs to send the custom CSRF prevention header in its HTTP requests. </td>
<td align="left"> <tt>X-XSRF-HEADER</tt> </td></tr>
<tr class="b">
<td align="left"> <tt>dfs.webhdfs.rest-csrf.methods-to-ignore</tt> </td>
<td align="left"> A comma-separated list of HTTP methods that do not require HTTP requests to include a custom header when protection against cross-site request forgery (CSRF) is enabled for WebHDFS by setting dfs.webhdfs.rest-csrf.enabled to true.  The WebHDFS client also uses this property to determine whether or not it needs to send the custom CSRF prevention header in its HTTP requests. </td>
<td align="left"> <tt>GET,OPTIONS,HEAD,TRACE</tt> </td></tr>
<tr class="a">
<td align="left"> <tt>dfs.webhdfs.rest-csrf.browser-useragents-regex</tt> </td>
<td align="left"> A comma-separated list of regular expressions used to match against an HTTP request&#x2019;s User-Agent header when protection against cross-site request forgery (CSRF) is enabled for WebHDFS by setting dfs.webhdfs.reset-csrf.enabled to true.  If the incoming User-Agent matches any of these regular expressions, then the request is considered to be sent by a browser, and therefore CSRF prevention is enforced.  If the request&#x2019;s User-Agent does not match any of these regular expressions, then the request is considered to be sent by something other than a browser, such as scripted automation.  In this case, CSRF is not a potential attack vector, so the prevention is not enforced.  This helps achieve backwards-compatibility with existing automation that has not been updated to send the CSRF prevention header. </td>
<td align="left"> <tt>^Mozilla.*,^Opera.*</tt> </td></tr>
<tr class="b">
<td align="left"> <tt>dfs.datanode.httpserver.filter.handlers</tt> </td>
<td align="left"> Comma separated list of Netty servlet-style filter handlers to inject into the Datanode WebHDFS I/O path </td>
<td align="left"> <tt>org.apache.hadoop.hdfs.server.datanode.web.RestCsrfPreventionFilterHandler</tt> </td></tr>
</tbody>
</table>
<p>The following is an example <tt>curl</tt> call that uses the <tt>-H</tt> option to include the custom header in the request.</p>

<div>
<div>
<pre class="source">    curl -i -L -X PUT -H 'X-XSRF-HEADER: &quot;&quot;' 'http://&lt;HOST&gt;:&lt;PORT&gt;/webhdfs/v1/&lt;PATH&gt;?op=CREATE'
</pre></div></div>
</div>
<div class="section">
<h2><a name="WebHDFS_Retry_Policy"></a>WebHDFS Retry Policy</h2>
<p>WebHDFS supports an optional, configurable retry policy for resilient copy of large files that could timeout, or copy file between HA clusters that could failover during the copy.</p>
<p>The following properties control WebHDFS retry and failover policy.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th align="left"> Property </th>
<th align="left"> Description </th>
<th align="left"> Default Value </th></tr>
</thead><tbody>

<tr class="b">
<td align="left"> <tt>dfs.http.client.retry.policy.enabled</tt> </td>
<td align="left"> If &#x201c;true&#x201d;, enable the retry policy of WebHDFS client. If &#x201c;false&#x201d;, retry policy is turned off. </td>
<td align="left"> <tt>false</tt> </td></tr>
<tr class="a">
<td align="left"> <tt>dfs.http.client.retry.policy.spec</tt> </td>
<td align="left"> Specify a policy of multiple linear random retry for WebHDFS client, e.g. given pairs of number of retries and sleep time (n0, t0), (n1, t1), &#x2026;, the first n0 retries sleep t0 milliseconds on average, the following n1 retries sleep t1 milliseconds on average, and so on. </td>
<td align="left"> <tt>10000,6,60000,10</tt> </td></tr>
<tr class="b">
<td align="left"> <tt>dfs.http.client.failover.max.attempts</tt> </td>
<td align="left"> Specify the max number of failover attempts for WebHDFS client in case of network exception. </td>
<td align="left"> <tt>15</tt> </td></tr>
<tr class="a">
<td align="left"> <tt>dfs.http.client.retry.max.attempts</tt> </td>
<td align="left"> Specify the max number of retry attempts for WebHDFS client, if the difference between retried attempts and failovered attempts is larger than the max number of retry attempts, there will be no more retries. </td>
<td align="left"> <tt>10</tt> </td></tr>
<tr class="b">
<td align="left"> <tt>dfs.http.client.failover.sleep.base.millis</tt> </td>
<td align="left"> Specify the base amount of time in milliseconds upon which the exponentially increased sleep time between retries or failovers is calculated for WebHDFS client. </td>
<td align="left"> <tt>500</tt> </td></tr>
<tr class="a">
<td align="left"> <tt>dfs.http.client.failover.sleep.max.millis</tt> </td>
<td align="left"> Specify the upper bound of sleep time in milliseconds between retries or failovers for WebHDFS client. </td>
<td align="left"> <tt>15000</tt> </td></tr>
</tbody>
</table></div>
<div class="section">
<h2><a name="WebHDFS_Request_Filtering"></a>WebHDFS Request Filtering</h2>
<p>One may control directionality of data in the WebHDFS protocol allowing only writing data from insecure networks. To enable, one must ensure <tt>dfs.datanode.httpserver.filter.handlers</tt> includes <tt>org.apache.hadoop.hdfs.server.datanode.web.HostRestrictingAuthorizationFilterHandler</tt>.  Configuration of the <tt>HostRestrictingAuthorizationFilter</tt> is controlled via the following properties.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th align="left"> Property </th>
<th align="left"> Description </th>
<th align="left"> Default Value </th></tr>
</thead><tbody>

<tr class="b">
<td align="left"> <tt>dfs.datanode.httpserver.filter.handlers</tt> </td>
<td align="left"> Comma separated list of Netty servlet-style filter handlers to inject into the Datanode WebHDFS I/O path </td>
<td align="left"> <tt>org.apache.hadoop.hdfs.server.datanode.web.RestCsrfPreventionFilterHandler</tt> </td></tr>
<tr class="a">
<td align="left"> <tt>dfs.web.authentication.host.allow.rules</tt> </td>
<td align="left"> Rules allowing users to read files in the format of <i>user</i>,<i>network/bits</i>,<i>path glob</i> newline or <tt>|</tt>-separated. Use <tt>*</tt> for a wildcard of all <i>users</i> or <i>network/bits</i>. </td>
<td align="left"> nothing - defaults to no one may read via WebHDFS </td></tr>
</tbody>
</table></div>
<div class="section">
<h2><a name="File_and_Directory_Operations"></a>File and Directory Operations</h2>
<div class="section">
<h3><a name="Create_and_Write_to_a_File"></a>Create and Write to a File</h3>
<ul>

<li>

<p>Step 1: Submit a HTTP PUT request without automatically following redirects and without sending the file data.</p>

<div>
<div>
<pre class="source">curl -i -X PUT &quot;http://&lt;HOST&gt;:&lt;PORT&gt;/webhdfs/v1/&lt;PATH&gt;?op=CREATE
                    [&amp;overwrite=&lt;true |false&gt;][&amp;blocksize=&lt;LONG&gt;][&amp;replication=&lt;SHORT&gt;]
                    [&amp;permission=&lt;OCTAL&gt;][&amp;buffersize=&lt;INT&gt;][&amp;noredirect=&lt;true|false&gt;]&quot;
</pre></div></div>

<p>Usually the re